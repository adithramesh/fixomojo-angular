<app-nav-bar></app-nav-bar>

<main class="home-container">

  <section class="user-info-section">
    <div class="card">
      <h2>Welcome, {{ (username$ | async) || 'User' }}!</h2>
      <p>Phone: {{ (phoneNumber$ | async) || 'Not available' }}</p>
    </div>
  </section>
  

  <section class="services-section">
    <div class="card">
      <app-data-table
        [tableData]="subServiceTableData"
        [tableColumns]="subServiceTableColumns"
        title="Available Services"
        [isLoading]="isLoading"
        emptyMessage="No services available at the moment."
        (searchChange)="onSearchChange($event)"
        [currentPage]="pagination.page"
        [totalPages]="totalPages"
        (pageChange)="onPageChange($event)"
        (rowAction)="onRowAction($event)"
      ></app-data-table>
      <div *ngIf="error" class="error-message">
        <p>{{ error }}</p>
      </div>
    </div>
  </section>
    <app-modal
    [isOpen]="isModalOpen"
    [modalType]="modalType"
    [serviceData]="selectedService"
    (close)="closeModal()"
    (bookService)="bookSubService($event)"
  ></app-modal>
</main>