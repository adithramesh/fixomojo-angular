


<div class="signup-container">
  <div class="signup-left">
    <div class="logo-container">
      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100">
        <rect x="10" y="10" width="80" height="80" rx="15" ry="15" fill="black"/>
        <text x="50" y="55" text-anchor="middle" alignment-baseline="middle" font-family="Arial, sans-serif" font-size="50" font-weight="bold" fill="white">FM</text>
      </svg>
      <h2 class="signup-title">FixoMojo</h2>
    </div>
    <p class="signup-subtitle">{{subtitle}}</p>
  </div>
  
  <div class="signup-right">
    <div class="signup-card">
      <form [formGroup]="signUpForm" (ngSubmit)="submitReactiveSignUpForm()">
        <!-- Username -->
        <div class="form-group">
          <input 
            type="text" 
            formControlName="username" 
            placeholder="Username" 
            class="form-input"
          >
          <div 
            *ngIf="signUpForm.get('username')?.invalid && signUpForm.get('username')?.touched" 
            class="error-message"
          >
            <div *ngIf="signUpForm.get('username')?.errors?.['required']">
              Username is required
            </div>
            <div *ngIf="signUpForm.get('username')?.errors?.['minlength']">
              Username must be at least 4 characters long
            </div>
            <div *ngIf="signUpForm.get('username')?.errors?.['pattern']">
              Username can only contain letters, numbers, and underscores
            </div>
          </div>
        </div>
  
        <!-- Email -->
        <div class="form-group">
          <input 
            type="email" 
            formControlName="email" 
            placeholder="Email" 
            class="form-input"
          >
          <div 
            *ngIf="signUpForm.get('email')?.invalid && signUpForm.get('email')?.touched" 
            class="error-message"
          >
            <div *ngIf="signUpForm.get('email')?.errors?.['required']">
              Email is required
            </div>
            <div *ngIf="signUpForm.get('email')?.errors?.['email']">
              Please enter a valid email
            </div>
          </div>
        </div>
  
        <!-- Phone Number -->
        <div class="form-group">
          <input 
            type="tel" 
            formControlName="phoneNumber" 
            placeholder="Phone Number" 
            class="form-input"
          >
          <div 
            *ngIf="signUpForm.get('phoneNumber')?.invalid && signUpForm.get('phoneNumber')?.touched" 
            class="error-message"
          >
            <div *ngIf="signUpForm.get('phoneNumber')?.errors?.['required']">
              Phone number is required
            </div>
            <div *ngIf="signUpForm.get('phoneNumber')?.errors?.['pattern']">
              Please enter a valid 10-digit phone number
            </div>
          </div>
        </div>
  
        <!-- Type-Specific Fields -->
        <ng-container *ngIf="userType === 'partner'">
          <div class="form-group">
            <select 
              formControlName="serviceType" 
              class="form-input"
            >
              <option value="">Select Service Type</option>
              <option value="electrician">Electrician</option>
              <option value="plumber">Plumber</option>
              <option value="ac-mechanic">AC Mechanic</option>
            </select>
            <div 
              *ngIf="signUpForm.get('serviceType')?.invalid && signUpForm.get('serviceType')?.touched" 
              class="error-message"
            >
              Please select a service type
            </div>
          </div>
  
          <div class="form-group">
            <input 
              type="text" 
              formControlName="aadharCardNumber" 
              placeholder="Aadhar Card Number" 
              class="form-input"
            >
            <div 
              *ngIf="signUpForm.get('aadharCardNumber')?.invalid && signUpForm.get('aadharCardNumber')?.touched" 
              class="error-message"
            >
              Aadhar Card Number is required
            </div>
          </div>
        </ng-container>
  
        <ng-container *ngIf="userType === 'admin'">
          <div class="form-group">
            <input 
              type="text" 
              formControlName="adminCode" 
              placeholder="Admin Code" 
              class="form-input"
            >
            <div 
              *ngIf="signUpForm.get('adminCode')?.invalid && signUpForm.get('adminCode')?.touched" 
              class="error-message"
            >
              Admin Code is required
            </div>
          </div>
  
          <div class="form-group">
            <input 
              type="text" 
              formControlName="department" 
              placeholder="Department" 
              class="form-input"
            >
            <div 
              *ngIf="signUpForm.get('department')?.invalid && signUpForm.get('department')?.touched" 
              class="error-message"
            >
              Department is required
            </div>
          </div>
        </ng-container>
  
        <!-- Password -->
        <div class="form-group">
          <input 
            type="password" 
            formControlName="password" 
            placeholder="Password" 
            class="form-input"
          >
          <div 
            *ngIf="signUpForm.get('password')?.invalid && signUpForm.get('password')?.touched" 
            class="error-message"
          >
            <div *ngIf="signUpForm.get('password')?.errors?.['required']">
              Password is required
            </div>
            <div *ngIf="signUpForm.get('password')?.errors?.['minlength']">
              Password must be at least 6 characters long
            </div>
            <div *ngIf="signUpForm.get('password')?.errors?.['pattern']">
              Password must contain at least one letter and one number
            </div>
          </div>
        </div>
  
        <!-- Confirm Password -->
        <div class="form-group">
          <input 
            type="password" 
            formControlName="confirmPassword" 
            placeholder="Confirm Password" 
            class="form-input"
          >
          <div 
            *ngIf="signUpForm.get('confirmPassword')?.invalid || signUpForm.hasError('passwordMismatch')" 
            class="error-message"
          >
            Passwords must match
          </div>
        </div>
  
        <button 
          type="submit" 
          class="signup-button" 
          [disabled]="signUpForm.invalid"
        >
          SignUp
        </button>
      </form>

      <p class="login-link">
        Already a member? 
        <a routerLink="/login">Login</a>
      </p>
    </div>
  </div>
</div>